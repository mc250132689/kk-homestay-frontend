<!-- Inside <body> -->
<section>
<h2>Explore Homestays</h2>
<div class="carousel">
    <div class="carousel-images" id="carousel-images"></div>
    <div class="carousel-buttons">
        <button onclick="prevSlide()">‹</button>
        <button onclick="nextSlide()">›</button>
    </div>
</div>
</section>

<script>
const API_BASE="https://kk-homestay-backend.onrender.com";
let currentIndex=0;
let images=[];

async function loadCarousel(){
    const res=await fetch(`${API_BASE}/homestays`);
    const data=await res.json();
    images=[];
    data.forEach(h=>{
        if(h.images) images.push(...h.images);
    });
    const container=document.getElementById("carousel-images");
    container.innerHTML="";
    images.forEach((img,i)=>{
        const el=document.createElement("img");
        el.src=`${API_BASE}${img}`;
        if(i===0) el.classList.add("active");
        container.appendChild(el);
    });
}

function showSlide(index){
    const imgs=document.querySelectorAll(".carousel-images img");
    imgs.forEach(img=>img.classList.remove("active"));
    if(imgs[index]) imgs[index].classList.add("active");
}

function prevSlide(){
    currentIndex=(currentIndex-1+images.length)%images.length;
    showSlide(currentIndex);
}

function nextSlide(){
    currentIndex=(currentIndex+1)%images.length;
    showSlide(currentIndex);
}

loadCarousel();
</script>
